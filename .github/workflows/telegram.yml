name: Telegram 18시20분 알림

on:
  schedule:
    # UTC 기준: KST(UTC+9) → 18:20 = UTC 09:20
    - cron: "20 9 * * *"
  workflow_dispatch: {}

jobs:
  send:
    runs-on: ubuntu-latest
    steps:
      - name: Compose message (퇴실체크 안내)
        id: msg
        run: |
          echo "MSG=퇴실전 수강생들 퇴실체크 안내 부탁드립니다 :)" >> $GITHUB_OUTPUT

      - name: Send Telegram Message
        run: |
          curl -sS -X POST "https://api.telegram.org/bot${{ secrets.BOT_TOKEN }}/sendMessage" \
            -H "Content-Type: application/json" \
            -d '{"chat_id": "'"${{ secrets.CHAT_ID }}"'", 
                 "text": "'"${{ steps.msg.outputs.MSG }}"'", 
                 "parse_mode": "HTML"}'
